1. POST/present-proof/send-request


{
  "proof_request": {
    "requested_attributes": {
      "attribute_1": {
        "name": "favouriteDrink",
        "non_revoked": {
          "to": 1601974900,
          "from": 1601974900
        },
        "restrictions": [
          {
            "schema_version": "1.0",
            "schema_id": "49iWxpGtW8RxDvj4xy8pJ2:2:OpenBadges:1.0",
            "cred_def_id": "49iWxpGtW8RxDvj4xy8pJ2:3:CL:224122:default",
            "schema_issuer_did": "49iWxpGtW8RxDvj4xy8pJ2",
            "issuer_did": "49iWxpGtW8RxDvj4xy8pJ2",
            "schema_name": "OpenBadges"
          }
        ]
      }
    },
    "requested_predicates": {
      "predicate_1": {
        "name": "index",
        "p_type": ">=",
        "p_value": 0,
        "non_revoked": {
          "to": 1601974900,
          "from": 1601974900
        },
        "restrictions": [
          {
            "schema_version": "1.0",
            "schema_id": "49iWxpGtW8RxDvj4xy8pJ2:2:OpenBadges:1.0",
            "cred_def_id": "49iWxpGtW8RxDvj4xy8pJ2:3:CL:224122:default",
            "schema_issuer_did": "49iWxpGtW8RxDvj4xy8pJ2",
            "issuer_did": "49iWxpGtW8RxDvj4xy8pJ2",
            "schema_name": "OpenBadges"
          }
        ]
      }
    },
    "version": "1.0",
    "name": "Proof request",
    "nonce": "1234567890",
    "non_revoked": {
      "to": 1601974900,
      "from": 1601974900
    }
  },
  "comment": "string",
  "connection_id": "3f5c47d1-e6a2-4295-8a6a-1fa251cad89c",
  "trace": false
}






-> Antwort




{
  "presentation_exchange_id": "48f9aa14-9d2f-4354-bf1a-86817ec0b0c1",
  "presentation_request_dict": {
    "@type": "did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/present-proof/1.0/request-presentation",
    "@id": "c464f768-a609-44f6-a63f-85fb337f4841",
    "request_presentations~attach": [
      {
        "@id": "libindy-request-presentation-0",
        "mime-type": "application/json",
        "data": {
          "base64": "eyJyZXF1ZXN0ZWRfYXR0cmlidXRlcyI6IHsiYXR0cmlidXRlXzEiOiB7Im5hbWUiOiAiZmF2b3VyaXRlRHJpbmsiLCAibm9uX3Jldm9rZWQiOiB7InRvIjogMTYwMTk3NDkwMCwgImZyb20iOiAxNjAxOTc0OTAwfSwgInJlc3RyaWN0aW9ucyI6IFt7InNjaGVtYV92ZXJzaW9uIjogIjEuMCIsICJzY2hlbWFfaWQiOiAiNDlpV3hwR3RXOFJ4RHZqNHh5OHBKMjoyOk9wZW5CYWRnZXM6MS4wIiwgImNyZWRfZGVmX2lkIjogIjQ5aVd4cEd0VzhSeER2ajR4eThwSjI6MzpDTDoyMjQxMjI6ZGVmYXVsdCIsICJzY2hlbWFfaXNzdWVyX2RpZCI6ICI0OWlXeHBHdFc4UnhEdmo0eHk4cEoyIiwgImlzc3Vlcl9kaWQiOiAiNDlpV3hwR3RXOFJ4RHZqNHh5OHBKMiIsICJzY2hlbWFfbmFtZSI6ICJPcGVuQmFkZ2VzIn1dfX0sICJyZXF1ZXN0ZWRfcHJlZGljYXRlcyI6IHsicHJlZGljYXRlXzEiOiB7Im5hbWUiOiAiaW5kZXgiLCAicF90eXBlIjogIj49IiwgInBfdmFsdWUiOiAwLCAibm9uX3Jldm9rZWQiOiB7InRvIjogMTYwMTk3NDkwMCwgImZyb20iOiAxNjAxOTc0OTAwfSwgInJlc3RyaWN0aW9ucyI6IFt7InNjaGVtYV92ZXJzaW9uIjogIjEuMCIsICJzY2hlbWFfaWQiOiAiNDlpV3hwR3RXOFJ4RHZqNHh5OHBKMjoyOk9wZW5CYWRnZXM6MS4wIiwgImNyZWRfZGVmX2lkIjogIjQ5aVd4cEd0VzhSeER2ajR4eThwSjI6MzpDTDoyMjQxMjI6ZGVmYXVsdCIsICJzY2hlbWFfaXNzdWVyX2RpZCI6ICI0OWlXeHBHdFc4UnhEdmo0eHk4cEoyIiwgImlzc3Vlcl9kaWQiOiAiNDlpV3hwR3RXOFJ4RHZqNHh5OHBKMiIsICJzY2hlbWFfbmFtZSI6ICJPcGVuQmFkZ2VzIn1dfX0sICJ2ZXJzaW9uIjogIjEuMCIsICJuYW1lIjogIlByb29mIHJlcXVlc3QiLCAibm9uY2UiOiAiMTIzNDU2Nzg5MCIsICJub25fcmV2b2tlZCI6IHsidG8iOiAxNjAxOTc0OTAwLCAiZnJvbSI6IDE2MDE5NzQ5MDB9fQ=="
        }
      }
    ],
    "comment": "string"
  },
  "thread_id": "c464f768-a609-44f6-a63f-85fb337f4841",
  "state": "request_sent",
  "updated_at": "2023-09-15 14:31:58.637278Z",
  "trace": false,
  "role": "verifier",
  "created_at": "2023-09-15 14:31:58.637278Z",
  "initiator": "self",
  "presentation_request": {
    "requested_attributes": {
      "attribute_1": {
        "name": "favouriteDrink",
        "non_revoked": {
          "to": 1601974900,
          "from": 1601974900
        },
        "restrictions": [
          {
            "schema_version": "1.0",
            "schema_id": "49iWxpGtW8RxDvj4xy8pJ2:2:OpenBadges:1.0",
            "cred_def_id": "49iWxpGtW8RxDvj4xy8pJ2:3:CL:224122:default",
            "schema_issuer_did": "49iWxpGtW8RxDvj4xy8pJ2",
            "issuer_did": "49iWxpGtW8RxDvj4xy8pJ2",
            "schema_name": "OpenBadges"
          }
        ]
      }
    },
    "requested_predicates": {
      "predicate_1": {
        "name": "index",
        "p_type": ">=",
        "p_value": 0,
        "non_revoked": {
          "to": 1601974900,
          "from": 1601974900
        },
        "restrictions": [
          {
            "schema_version": "1.0",
            "schema_id": "49iWxpGtW8RxDvj4xy8pJ2:2:OpenBadges:1.0",
            "cred_def_id": "49iWxpGtW8RxDvj4xy8pJ2:3:CL:224122:default",
            "schema_issuer_did": "49iWxpGtW8RxDvj4xy8pJ2",
            "issuer_did": "49iWxpGtW8RxDvj4xy8pJ2",
            "schema_name": "OpenBadges"
          }
        ]
      }
    },
    "version": "1.0",
    "name": "Proof request",
    "nonce": "1234567890",
    "non_revoked": {
      "to": 1601974900,
      "from": 1601974900
    }
  },
  "auto_present": false,
  "connection_id": "3f5c47d1-e6a2-4295-8a6a-1fa251cad89c"
}




2. GET/present-proof​/records​/{pres_ex_id}
- get pres_ex_id from previous respond (48f9aa14-9d2f-4354-bf1a-86817ec0b0c1) and paste it


-> Antwort


{
  "presentation_exchange_id": "48f9aa14-9d2f-4354-bf1a-86817ec0b0c1",
  "presentation_request_dict": {
    "@type": "did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/present-proof/1.0/request-presentation",
    "@id": "c464f768-a609-44f6-a63f-85fb337f4841",
    "request_presentations~attach": [
      {
        "@id": "libindy-request-presentation-0",
        "mime-type": "application/json",
        "data": {
          "base64": "eyJyZXF1ZXN0ZWRfYXR0cmlidXRlcyI6IHsiYXR0cmlidXRlXzEiOiB7Im5hbWUiOiAiZmF2b3VyaXRlRHJpbmsiLCAibm9uX3Jldm9rZWQiOiB7InRvIjogMTYwMTk3NDkwMCwgImZyb20iOiAxNjAxOTc0OTAwfSwgInJlc3RyaWN0aW9ucyI6IFt7InNjaGVtYV92ZXJzaW9uIjogIjEuMCIsICJzY2hlbWFfaWQiOiAiNDlpV3hwR3RXOFJ4RHZqNHh5OHBKMjoyOk9wZW5CYWRnZXM6MS4wIiwgImNyZWRfZGVmX2lkIjogIjQ5aVd4cEd0VzhSeER2ajR4eThwSjI6MzpDTDoyMjQxMjI6ZGVmYXVsdCIsICJzY2hlbWFfaXNzdWVyX2RpZCI6ICI0OWlXeHBHdFc4UnhEdmo0eHk4cEoyIiwgImlzc3Vlcl9kaWQiOiAiNDlpV3hwR3RXOFJ4RHZqNHh5OHBKMiIsICJzY2hlbWFfbmFtZSI6ICJPcGVuQmFkZ2VzIn1dfX0sICJyZXF1ZXN0ZWRfcHJlZGljYXRlcyI6IHsicHJlZGljYXRlXzEiOiB7Im5hbWUiOiAiaW5kZXgiLCAicF90eXBlIjogIj49IiwgInBfdmFsdWUiOiAwLCAibm9uX3Jldm9rZWQiOiB7InRvIjogMTYwMTk3NDkwMCwgImZyb20iOiAxNjAxOTc0OTAwfSwgInJlc3RyaWN0aW9ucyI6IFt7InNjaGVtYV92ZXJzaW9uIjogIjEuMCIsICJzY2hlbWFfaWQiOiAiNDlpV3hwR3RXOFJ4RHZqNHh5OHBKMjoyOk9wZW5CYWRnZXM6MS4wIiwgImNyZWRfZGVmX2lkIjogIjQ5aVd4cEd0VzhSeER2ajR4eThwSjI6MzpDTDoyMjQxMjI6ZGVmYXVsdCIsICJzY2hlbWFfaXNzdWVyX2RpZCI6ICI0OWlXeHBHdFc4UnhEdmo0eHk4cEoyIiwgImlzc3Vlcl9kaWQiOiAiNDlpV3hwR3RXOFJ4RHZqNHh5OHBKMiIsICJzY2hlbWFfbmFtZSI6ICJPcGVuQmFkZ2VzIn1dfX0sICJ2ZXJzaW9uIjogIjEuMCIsICJuYW1lIjogIlByb29mIHJlcXVlc3QiLCAibm9uY2UiOiAiMTIzNDU2Nzg5MCIsICJub25fcmV2b2tlZCI6IHsidG8iOiAxNjAxOTc0OTAwLCAiZnJvbSI6IDE2MDE5NzQ5MDB9fQ=="
        }
      }
    ],
    "comment": "string"
  },
  "thread_id": "c464f768-a609-44f6-a63f-85fb337f4841",
  "state": "verified",
  "updated_at": "2023-09-15 14:32:00.393733Z",
  "trace": false,
  "role": "verifier",
  "presentation": {
    "proof": {
      "proofs": [],
      "aggregated_proof": {
        "c_hash": "10639816310985837783199378615488296256229070620850680453677115602812438341389",
        "c_list": []
      }
    },
    "requested_proof": {
      "revealed_attrs": {},
      "self_attested_attrs": {
        "attribute_1": "my self-attested value"
      },
      "unrevealed_attrs": {},
      "predicates": {}
    },
    "identifiers": []
  },
  "verified": "false",
  "created_at": "2023-09-15 14:31:58.637278Z",
  "initiator": "self",
  "presentation_request": {
    "requested_attributes": {
      "attribute_1": {
        "name": "favouriteDrink",
        "non_revoked": {
          "to": 1601974900,
          "from": 0
        },
        "restrictions": [
          {
            "schema_version": "1.0",
            "schema_id": "49iWxpGtW8RxDvj4xy8pJ2:2:OpenBadges:1.0",
            "cred_def_id": "49iWxpGtW8RxDvj4xy8pJ2:3:CL:224122:default",
            "schema_issuer_did": "49iWxpGtW8RxDvj4xy8pJ2",
            "issuer_did": "49iWxpGtW8RxDvj4xy8pJ2",
            "schema_name": "OpenBadges"
          }
        ]
      }
    },
    "requested_predicates": {
      "predicate_1": {
        "name": "index",
        "p_type": ">=",
        "p_value": 0,
        "non_revoked": {
          "to": 1601974900,
          "from": 0
        },
        "restrictions": [
          {
            "schema_version": "1.0",
            "schema_id": "49iWxpGtW8RxDvj4xy8pJ2:2:OpenBadges:1.0",
            "cred_def_id": "49iWxpGtW8RxDvj4xy8pJ2:3:CL:224122:default",
            "schema_issuer_did": "49iWxpGtW8RxDvj4xy8pJ2",
            "issuer_did": "49iWxpGtW8RxDvj4xy8pJ2",
            "schema_name": "OpenBadges"
          }
        ]
      }
    },
    "version": "1.0",
    "name": "Proof request",
    "nonce": "1234567890"
  },
  "auto_present": false,
  "connection_id": "3f5c47d1-e6a2-4295-8a6a-1fa251cad89c"
}

